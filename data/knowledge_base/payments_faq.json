{
    "webhook_failed": {
      "question": "Payment webhook not received",
      "answer": "If payment webhooks (Stripe/PayPal) aren't being received:\n\n**Stripe webhooks:**\n1. Check webhook endpoint status:\n   - Stripe Dashboard → Developers → Webhooks\n   - Verify endpoint is 'Enabled' and shows recent successful events\n\n2. Common issues:\n   - Endpoint must return 200 status within 5 seconds\n   - Verify webhook signing secret matches your configuration\n   - Check firewall/security rules aren't blocking Stripe IPs\n\n3. Test the webhook:\n   - Use 'Send test webhook' button in Stripe dashboard\n   - Check our system logs for incoming request\n\n4. Events to monitor:\n   - payment_intent.succeeded\n   - payment_intent.payment_failed\n   - charge.refunded\n\n**PayPal IPN:**\n1. PayPal account → Account Settings → Notifications → Instant Payment Notifications\n2. Verify IPN URL is correct and IPN is 'Enabled'\n3. Check IPN History for delivery failures\n\n**If webhooks still failing:**\nContact support with:\n- Webhook event ID from payment provider\n- Timestamp of failed webhook\n- Transaction ID"
    },
    "refund_processing": {
      "question": "How long do refunds take to process?",
      "answer": "Refund processing times:\n\n**Stripe refunds:**\n- Initiated: Immediately in our system\n- Customer's bank: 5-10 business days\n- Instant refunds: Available for eligible cards (premium feature)\n\n**PayPal refunds:**\n- Initiated: Immediately\n- PayPal balance: Instant\n- Bank account/card: 3-5 business days\n\n**Our system:**\n1. Refund request submitted → Webhook sent to payment processor\n2. Confirmation received → Order status updated\n3. Customer notified via email automatically\n\n**Partial refunds:**\n- Supported for both Stripe and PayPal\n- Specify amount or select specific line items\n- Shipping costs can be included/excluded\n\n**Refund failures:**\n- Original payment method expired/closed → Refund fails\n- Solution: Issue manual refund via payment processor dashboard\n- Our system will sync status within 15 minutes\n\n**Track refund status:**\nDashboard → Orders → [Order ID] → Payment tab → Refund history"
    },
    "payment_gateway_config": {
      "question": "Payment gateway configuration",
      "answer": "Configuring payment gateways:\n\n**Stripe setup:**\n1. Dashboard → Settings → Integrations → Stripe\n2. Click 'Connect Stripe Account'\n3. Authorize access (OAuth flow)\n4. Select:\n   - Live mode (production) or Test mode (development)\n   - Webhook events to subscribe to\n   - Currency settings\n5. Save configuration\n\n**Webhook auto-configuration:**\n- System automatically creates webhook endpoint in Stripe\n- Signing secret stored securely\n- No manual webhook setup needed\n\n**PayPal setup:**\n1. Dashboard → Settings → Integrations → PayPal\n2. Enter:\n   - PayPal Business Email\n   - API Credentials (get from PayPal Developer Dashboard)\n3. IPN URL configured automatically\n4. Test with sandbox mode first\n\n**Multi-currency:**\n- Supported for Stripe (140+ currencies)\n- PayPal supports 25 currencies\n- Configure in Settings → Payments → Currency\n\n**Payment methods:**\n- Credit/Debit cards: Enabled by default\n- Apple Pay/Google Pay: Enable in Stripe dashboard\n- SEPA, iDEAL, etc.: Contact support to enable regional methods\n\n**Testing:**\n- Use test mode first\n- Test card numbers: Available in Stripe docs\n- PayPal sandbox: Create test buyer/seller accounts"
    },
    "failed_payment": {
      "question": "Why did a payment fail?",
      "answer": "Common payment failure reasons:\n\n**Customer-side issues (80% of failures):**\n1. Insufficient funds\n2. Card expired or cancelled\n3. Incorrect card details (CVV, expiry date)\n4. Card blocked by issuing bank (fraud prevention)\n5. International transaction blocked\n\n**Technical issues:**\n1. 3D Secure authentication failed/timeout\n2. Payment gateway timeout (retry automatically)\n3. Network error during processing\n\n**What our system does:**\n1. Automatic retry (up to 3 attempts for soft declines)\n2. Customer notified via email with specific error\n3. Alternative payment method suggested\n\n**For recurring payments:**\n- Smart retry logic (tries different times over 7 days)\n- Dunning emails sent to customer\n- Grace period before subscription suspension\n\n**Action for support:**\n- Check payment error code in order details\n- Common codes:\n  - `card_declined`: Contact customer to use different card\n  - `insufficient_funds`: Customer needs to add funds\n  - `authentication_required`: Customer must complete 3DS\n  - `do_not_honor`: Generic decline, try different card\n\n**Escalation:**\nIf customer insists card is valid:\n- Ask them to contact their bank\n- Bank can see decline reason on their end\n- Alternative: Try PayPal or different card"
    }
  }